<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>💎 미덕 퀴즈</title>
  <style>
    body {
      background-color: #ffeef2;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 36px;
      margin-bottom: 10px;
    }
    .question {
      font-size: 20px;
      margin: 20px 0;
    }
    .options {
      display: grid;
      grid-template-columns: repeat(13, auto);
      gap: 8px;
      justify-content: center;
      max-width: 1000px;
      margin: 0 auto;
    }
    .option-button {
      background-color: white;
      border: 2px solid #ff66a3;
      padding: 8px 12px;
      border-radius: 10px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .option-button:hover {
      background-color: #ffccdd;
    }
    .feedback {
      font-weight: bold;
      margin: 20px 0;
    }
    .level {
      font-size: 18px;
      margin-top: 20px;
    }
    .level-track {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      flex-wrap: wrap;
      gap: 12px;
    }
    .level-badge {
      padding: 8px 12px;
      border: 2px solid #ccc;
      border-radius: 16px;
      background: white;
      font-size: 14px;
    }
    .level-badge.active {
      background: #ffe5ec;
      border-color: #ff66a3;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h1>💎 미덕 퀴즈</h1>
  <p class="question" id="question">뜻에 맞는 미덕의 보석 단어를 골라주세요.</p>

  <div class="options" id="options"></div>

  <p class="feedback" id="feedback"></p>

  <div class="level">
    ✨ 나의 미덕 포인트: <span id="points">0</span><br>
    현재 레벨: <span id="level">🌱 새싹</span>
  </div>

  <div class="level-track" id="level-track"></div>

  <script>
    const virtues = [
      { name: "감사", meaning: "고마운 마음을 표현함" },
      { name: "배려", meaning: "다른 사람을 생각하고 도와줌" },
      { name: "유연성", meaning: "상황에 맞게 부드럽게 행동함" },
      { name: "창의성", meaning: "새로운 생각을 해냄" },
      { name: "결의", meaning: "굳게 결심하고 밀고 나감" },
      { name: "봉사", meaning: "다른 사람을 위해 돕는 행동" },
      { name: "이상품기", meaning: "높은 목표를 향한 포부를 품음" },
      { name: "책임감", meaning: "자신의 역할을 다하려는 마음" },
      { name: "겸손", meaning: "스스로를 자랑하지 않고 남을 존중함" },
      { name: "사랑", meaning: "상대방을 깊이 아끼는 마음" },
      { name: "이해", meaning: "상대방의 입장을 알아줌" },
      { name: "청결", meaning: "깨끗하게 유지함" },
      { name: "관용", meaning: "다름을 인정하고 받아들임" },
      { name: "사려", meaning: "깊이 생각하고 배려함" },
      { name: "인내", meaning: "어려움을 참고 견딤" },
      { name: "초연", meaning: "감정에 흔들리지 않음" },
      { name: "근면", meaning: "부지런하고 성실함" },
      { name: "상냥함", meaning: "다정다감하게 행동함" },
      { name: "인정", meaning: "상대를 인정하고 받아들임" },
      { name: "충직", meaning: "충성과 정직함을 지님" },
      { name: "기뻐함", meaning: "작은 일에도 기쁨을 느낌" },
      { name: "소신", meaning: "자신의 생각을 지킴" },
      { name: "자율", meaning: "스스로 조절하고 선택함" },
      { name: "친절", meaning: "다정하고 배려심 있게 행동함" },
      { name: "기지", meaning: "기발한 생각으로 문제를 해결함" },
      { name: "신뢰", meaning: "믿고 의지함" },
      { name: "절도", meaning: "알맞게 조절함" },
      { name: "탁월함", meaning: "아주 뛰어남" },
      { name: "끈기", meaning: "쉽게 포기하지 않음" },
      { name: "신용", meaning: "믿을 수 있는 평판" },
      { name: "정돈", meaning: "정리정돈이 잘 되어 있음" },
      { name: "평온함", meaning: "마음이 조용하고 안정됨" },
      { name: "너그러움", meaning: "잘 용서하고 포용함" },
      { name: "열정", meaning: "강한 의지와 에너지로 임함" },
      { name: "정의로움", meaning: "옳고 그름을 바로 판단함" },
      { name: "한결같음", meaning: "항상 같고 변하지 않음" },
      { name: "도움", meaning: "남을 도와줌" },
      { name: "예의", meaning: "예절을 지킴" },
      { name: "정직", meaning: "거짓 없이 참됨" },
      { name: "헌신", meaning: "자기를 희생하며 도움" },
      { name: "명예", meaning: "훌륭한 이름과 자랑" },
      { name: "용기", meaning: "두려움 없이 나아감" },
      { name: "존중", meaning: "상대를 소중히 여김" },
      { name: "협동", meaning: "서로 힘을 합함" },
      { name: "목적의식", meaning: "목표를 분명히 함" },
      { name: "용서", meaning: "잘못을 이해하고 받아들임" },
      { name: "중용", meaning: "지나치지 않음" },
      { name: "믿음직함", meaning: "신뢰할 수 있음" },
      { name: "우의", meaning: "우정이 깊음" },
      { name: "진실함", meaning: "거짓이 없음" },
      { name: "확신", meaning: "자신 있게 믿음" }
    ];

    const levels = [
      { name: "새싹", emoji: "🌱", min: 0 },
      { name: "무지개", emoji: "🌈", min: 5 },
      { name: "보석", emoji: "💎", min: 10 },
      { name: "별빛", emoji: "🌟", min: 20 },
      { name: "왕자", emoji: "👑", min: 30 }
    ];

    let points = parseInt(localStorage.getItem("points") || "0");
    let current;

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const feedbackEl = document.getElementById("feedback");
    const pointsEl = document.getElementById("points");
    const levelEl = document.getElementById("level");
    const levelTrack = document.getElementById("level-track");

    function shuffle(array) {
      return array.slice().sort(() => Math.random() - 0.5);
    }

    function newQuestion() {
      current = virtues[Math.floor(Math.random() * virtues.length)];
      questionEl.textContent = `뜻: ${current.meaning}`;

      optionsEl.innerHTML = "";
      virtues.forEach(v => {
        const btn = document.createElement("button");
        btn.textContent = v.name;
        btn.className = "option-button";
        btn.onclick = () => checkAnswer(v.name);
        optionsEl.appendChild(btn);
      });

      updateProgress();
    }

    function checkAnswer(selected) {
      if (selected === current.name) {
        points++;
        localStorage.setItem("points", points);
        feedbackEl.textContent = "정답이에요! 💎";
      } else {
        feedbackEl.textContent = `아쉬워요! 정답은 \"${current.name}\"`;
      }

      setTimeout(() => {
        feedbackEl.textContent = "";
        newQuestion();
      }, 1500);
    }

    function updateProgress() {
      pointsEl.textContent = points;
      const level = levels.reduce((acc, lvl) => points >= lvl.min ? lvl : acc, levels[0]);
      levelEl.textContent = `${level.emoji} ${level.name}`;
      updateLevelTrack();
    }

    function updateLevelTrack() {
      levelTrack.innerHTML = "";
      const current = levels.reduce((acc, lvl) => points >= lvl.min ? lvl : acc, levels[0]);
      levels.forEach((lvl) => {
        const badge = document.createElement("div");
        badge.className = "level-badge";
        if (lvl.name === current.name) badge.classList.add("active");
        badge.textContent = `${lvl.emoji} ${lvl.name}`;
        levelTrack.appendChild(badge);
      });
    }

    newQuestion();
  </script>
</body>
</html>
